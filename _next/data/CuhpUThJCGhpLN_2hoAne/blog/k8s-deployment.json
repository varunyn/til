{"pageProps":{"title":"Kubernetes Deployment 101","date":"2021-06-22T00:00:00.000Z","desc":"Creating k8s deployment","tags":["k8s","ðŸŒ¿"],"readingTime":{"text":"1 min read","minutes":0.42,"time":25200,"words":84},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h2: \"h2\",\n    a: \"a\",\n    span: \"span\",\n    ul: \"ul\",\n    li: \"li\",\n    p: \"p\",\n    code: \"code\",\n    pre: \"pre\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.h2, {\n      id: \"table-of-contents\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#table-of-contents\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Table of Contents\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"#create-deployment\",\n          children: \"Create deployment\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"#scale-deployment\",\n          children: \"Scale deployment\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"#expose-deployment-as-service\",\n          children: \"Expose deployment as service\"\n        })\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"create-deployment\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#create-deployment\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Create deployment\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To create deployment from command line use the following command, \", _jsx(_components.code, {\n        children: \"--dry-run\"\n      }), \" will just show resource and not create. \", _jsx(_components.code, {\n        children: \"-o yaml\"\n      }), \" will show output as yaml\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-shell\",\n      children: _jsx(_components.code, {\n        className: \"language-shell code-highlight\",\n        children: _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"kubectl create deployment nginx-deployment \", _jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"--image\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \"busybox --dry-run \", _jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"-o\"\n          }), \" yaml\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Few useful flags to use.\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"-r\"\n        }), \" for creating replicas. By default it is 1.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"scale-deployment\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#scale-deployment\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Scale deployment\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-shell\",\n      children: _jsx(_components.code, {\n        className: \"language-shell code-highlight\",\n        children: _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"kubectl scale deployment/nginx-deployment \", _jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"--replicas\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"2\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"More in \", _jsx(_components.a, {\n        href: \"https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#-em-deployment-em-\",\n        children: \"docs\"\n      })]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"expose-deployment-as-service\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#expose-deployment-as-service\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Expose deployment as service\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-shell\",\n      children: _jsx(_components.code, {\n        className: \"language-shell code-highlight\",\n        children: _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"kubectl expose deployment nginx-deployment \", _jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"--port\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"80\"\n          }), \" --target-port\", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"8000\"\n          }), \"  \", _jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"--type\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \"LoadBalancer \", _jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"--name\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \"my-service\\n\"]\n        })\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}},"tweetIDs":[],"slug":"k8s-deployment","tweets":null},"__N_SSG":true}