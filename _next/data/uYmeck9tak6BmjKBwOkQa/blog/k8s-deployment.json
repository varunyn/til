{"pageProps":{"title":"Kubernetes Deployment 101","date":"2021-06-22T00:00:00.000Z","desc":"Creating k8s deployment","tags":["k8s","ðŸŒ¿"],"readingTime":{"text":"1 min read","minutes":0.42,"time":25200,"words":84},"content":{"compiledSource":"var d=Object.defineProperty,i=Object.defineProperties;var u=Object.getOwnPropertyDescriptors;var t=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;var r=(a,n,l)=>n in a?d(a,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[n]=l,e=(a,n)=>{for(var l in n||(n={}))p.call(n,l)&&r(a,l,n[l]);if(t)for(var l of t(n))s.call(n,l)&&r(a,l,n[l]);return a},m=(a,n)=>i(a,u(n));var c=(a,n)=>{var l={};for(var o in a)p.call(a,o)&&n.indexOf(o)<0&&(l[o]=a[o]);if(a!=null&&t)for(var o of t(a))n.indexOf(o)<0&&s.call(a,o)&&(l[o]=a[o]);return l};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(l){var o=l,{components:a}=o,n=c(o,[\"components\"]);return mdx(MDXLayout,m(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"h2\",e({},{id:\"table-of-contents\"}),\"Table of Contents\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#create-deployment\"}),\"Create deployment\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#scale-deployment\"}),\"Scale deployment\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#expose-deployment-as-service\"}),\"Expose deployment as service\"))),mdx(\"h2\",e({},{id:\"create-deployment\"}),\"Create deployment\"),mdx(\"p\",null,\"To create deployment from command line use the following command, \",mdx(\"inlineCode\",{parentName:\"p\"},\"--dry-run\"),\" will just show resource and not create. \",mdx(\"inlineCode\",{parentName:\"p\"},\"-o yaml\"),\" will show output as yaml\"),mdx(\"pre\",e({},{className:\"language-shell\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shell\"}),\"kubectl create deployment nginx-deployment --image\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"=\"),`busybox --dry-run -o yaml\n`)),mdx(\"p\",null,\"Few useful flags to use.\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"-r\"),\" for creating replicas. By default it is 1.\")),mdx(\"h2\",e({},{id:\"scale-deployment\"}),\"Scale deployment\"),mdx(\"pre\",e({},{className:\"language-shell\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shell\"}),\"kubectl scale deployment/nginx-deployment --replicas\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"=\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"2\"),`\n`)),mdx(\"p\",null,\"More in \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#-em-deployment-em-\"}),\"docs\")),mdx(\"h2\",e({},{id:\"expose-deployment-as-service\"}),\"Expose deployment as service\"),mdx(\"pre\",e({},{className:\"language-shell\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shell\"}),\"kubectl expose deployment nginx-deployment --port\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"=\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"80\"),\" --target-port\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"=\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"8000\"),\"  --type\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\"LoadBalancer --name\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"=\"),`my-service\n`)))}MDXContent.isMDXComponent=!0;\n","scope":{}},"tweetIDs":[],"slug":"k8s-deployment","tweets":null},"__N_SSG":true}